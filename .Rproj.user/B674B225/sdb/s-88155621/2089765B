{
    "contents" : "---\ntitle: 'Motor Trends Special Report Automatic or Transmission: Which Transmission\n  Gives Better MPG?'\nauthor: \"Erich Donahue\"\ndate: \"01/25/2015\"\noutput: pdf_document\n---\n\nIntroduction\n------------------------\n\n\nThis report will examine the relationship between transmission type and mpg results for cars evaluated in our study.  Within this report I will attempt to answer the following two questions using regression modeling:\n\n-    “Is an automatic or manual transmission better for MPG”\n-    \"Quantify the MPG difference between automatic and manual transmissions\"\n\nAnalysis\n-----------------------\n\n```{r}\n# Load mtcars data.frame and libraries used\nlibrary(ggplot2)\nlibrary(MASS)\ndata(mtcars)\n```\n\n\nI first explored the dataset using summary statistics and plots.\n\n```{r}\n# Explore data types and examine mpg and transmission types\nstr(mtcars)\nsummary(mtcars)\n```\n``` {r fig.show=\"hide\"}\nplot(density(mtcars$mpg))\n# Set am as as.factor with labels for table and plotting\nmtcars$am <- factor(mtcars$am,labels=c('Auto','Manual'))\n# Compare frequency of each type within mtcars\nbarplot(table(mtcars$am), ylim=c(0,sum(!is.na(mtcars$am))), col=unique(mtcars$am), main= \"Transmission Type Frequency\", ylab=\"Freq\")\n```\n\n\nGiven the summary above and the plots included in the appendix it is clear that the observed miles per gallon have a relatively wide range from 10 mpg to 34.  While the mix of transmission types observed is not even there seem to be enough of each to draw some conclusions from.\n\n\nRegression Modeling\n------------------------------\n\n\nBefore answering the questions of effects of transmission type on fuel efficiency I performed a basic comparison of the mpg observances for each type by plotting the interaction of mpg and horsepower for each type.\n\n```{r}\n# Plot observed relationship between horsepower and mpg split by transmission type\nqplot(data=mtcars, x=hp, y=mpg, facets=.~am, colour=am, main=\"MPG and Horsepower by Transmission Type\")\n```\n\n\nFrom the chart above we see that for vehicles in the same range manual transmission types seem to have higher mpg.  While this plot does not give a robust answer on this effect it gives us some intuition on the expected relationship.\n\nTo find the best model fit using the existing variables I prepared some variables and built the \"full\" model:\n```{r}\n# Set as factors relevant variables\nmtcars$cyl <- as.factor(mtcars$cyl)\nmtcars$vs <- as.factor(mtcars$vs)\nmtcars$gear <- as.factor(mtcars$gear)\nmtcars$carb <- as.factor(mtcars$carb)\n\n# Regression model\nmodel1 <- lm(mpg ~ ., data=mtcars) \n```\n\n\nI chose the AIC method to determine the variables to include in a final model:\n```{r results=\"hide\"}\nstepmodel <- stepAIC(model1, direction=\"both\")\n```\n```{r}\nstepmodel$anova\n```\n\n\nBased on the Akaike's information criteria I observed that the final suggested model includes the variables:\nmpg ~ cyl + hp + wt + am\n\n```{r}\nmodelFin <- lm(mpg ~ cyl + hp + wt + am, data=mtcars)\n```\n\n\nFrom the results of the final model built with the AIC variables I observed the following estimated relationships:\n- Number of cylinders in engines is negatively associated with mpg, where a six or eight cylinder sees an estimated mpg penalty of 3 or two fold, respectively.\n- Horsepower is also negatively related to mpg, where a small decrease for mpg per hp is seen per increase.  An increase of 50 hp would lead to a decrease of 1.6 mpg.\n- Vehicle weight is negatively associated, with an expected 2.5 mpg decrease for each half ton increase in total vehicle weight.\n- Finally transmission type is strongly associated with mpg.  Manual transmissions may see 80% better fuel efficiency compared with an automatic transmission vehicle. \n\n\n\n\nConclusion\n-------------------------------\n\n\nWhile a more robust analysis could be performed to better ground these results I feel that the relationship of transmission type and fuel efficiency looks strong given the observed data.  Future analysis could include additional testing on the interaction of variables (greater horsepower and engine displacement overlap)  as well as an increase in observations used for estimation.\n\n\n\nAppendix\n--------------------------------\nExploratory Plots\n``` {r}\npar(mfcol=c(1,1))\nplot(density(mtcars$mpg))\n# Set am as as.factor with labels for table and plotting\nmtcars$am <- factor(mtcars$am,labels=c('Auto','Manual'))\n# Compare frequency of each type within mtcars\nbarplot(table(mtcars$am), ylim=c(0,sum(!is.na(mtcars$am))), col=unique(mtcars$am), main= \"Transmission Type Frequency\", ylab=\"Freq\")\n```\n\nSummary and plots for final model:\n``` {r}\npar(mfcol=c(2,2))\nplot(modelFin)\n\nsummary(modelFin)\n```",
    "created" : 1424641995263.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2426844280",
    "id" : "2089765B",
    "lastKnownWriteTime" : 1422223055,
    "path" : "~/Coursera/RegModels_Project/edonahue_RegModels_CourseProj.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}